<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Go/Gin Gower is a project based on the Go language and the Gin framework. The project aims to provide a high-performance, easily extensible Web application framework suitable for various backend development needs. Go is known for its concise syntax, high performance, and strong concurrency support, while the Gin framework provides a clean API design and efficient routing mechanism, making Web application development simpler and more efficient.">
<meta name="author" content="falling-ts">
<meta name="keywords" content="Go, Gin, Gower, Spring Boot, Spring MVC, Laravel, Web Development, Backend Development, RESTful API, Middleware, Routing, MVC Architecture, Dependency Injection, ORM, Database Integration, Authentication, Authorization, Caching, Performance Optimization, Testing, Continuous Integration, Docker, Kubernetes, Microservices, API Gateway, Frontend Integration, Security, Scalability, Deployment, Containerization, Cloud Services, DevOps, API Documentation, GraphQL, WebSocket, Serverless, Event-Driven Architecture, Reactive Programming, Load Balancing, Monitoring, Logging, Error Handling, Data Validation, Session Management, Content Delivery Network (CDN), Static File Serving, Templating Engines, Real-Time Applications, Cross-Origin Resource Sharing (CORS), JSON, XML, YAML, HTTP/2, HTTPS, SSL/TLS, OAuth, JWT, OpenAPI, Swagger, Postman, Git, Version Control, Code Review, Agile Development, Continuous Deployment, Infrastructure as Code (IaC), Ansible, Terraform, AWS, Azure, Google Cloud Platform (GCP), Heroku, DigitalOcean, VPS, Virtual Machines, Server Management, Network Configuration, Domain Name System (DNS), Subdomains, Reverse Proxy, Nginx, Apache, Load Testing, Stress Testing, Performance Tuning, Profiling, Debugging, Unit Testing, Integration Testing, End-to-End Testing, Test-Driven Development (TDD), Behavior-Driven Development (BDD), Code Coverage, Code Quality, Linting, Code Formatting, Static Analysis, Dynamic Analysis, Security Audits, Penetration Testing, Vulnerability Scanning, Compliance, GDPR, HIPAA, PCI DSS, ISO 27001, Accessibility, Internationalization (i18n), Localization (l10n), User Experience (UX), User Interface (UI), Responsive Design, Mobile First, Progressive Web Apps (PWA), Single Page Applications (SPA), Multi-Tenant Applications, SaaS, B2B, B2C, E-commerce, Payment Gateways, Analytics, A/B Testing, User Feedback, Customer Support, Community Building, Documentation, Tutorials, Best Practices, Case Studies, Benchmarks, Performance Metrics, Scalability Metrics, Reliability Metrics, Availability Metrics, Latency, Throughput, Concurrency, Threading, Asynchronous Programming, Non-blocking I/O, Event Loop, Callbacks, Promises, Async/Await, Coroutines, Channels, Goroutines, Actors, Message Queues, Pub/Sub, Event Sourcing, Command Query Responsibility Segregation (CQRS), Domain-Driven Design (DDD), Hexagonal Architecture, Clean Architecture, Layered Architecture, Microkernel Architecture, Service-Oriented Architecture (SOA), Serverless Architecture, Monolithic Architecture, Hybrid Architecture, Polyglot Persistence, NoSQL, SQL, Relational Databases, Non-Relational Databases, Time-Series Databases, Graph Databases, Document Stores, Key-Value Stores, In-Memory Databases, Distributed Databases, Data Warehouses, Big Data, Data Analytics, Machine Learning, Artificial Intelligence, Natural Language Processing (NLP), Computer Vision, Robotics, Internet of Things (IoT), Edge Computing, Fog Computing, Quantum Computing, Blockchain, Smart Contracts, Decentralized Applications (dApps), Web3, Cryptocurrencies, NFTs, Metaverse, Virtual Reality (VR), Augmented Reality (AR), Mixed Reality (MR), Extended Reality (XR)">

<meta name="msvalidate.01" content="619B654428B21D3DEFD979542A5D45CE" />

<title>db-Database Service · Go/Gin Gower Docs</title>

<link rel="canonical" href="../../../en/single/db-database-service/">









<link rel="stylesheet" href="../../../scss/base.css" integrity="">



<link rel="stylesheet" href="../../../scss/theme/default.css" integrity="">



  <link rel="preconnect" href="https://-dsn.algolia.net" crossorigin />
  
  <link rel="stylesheet" href="../../../scss/component/docsearch.css" integrity=""/>

<link rel="manifest" href="../../../manifest.json">
<link rel="icon" href="../../../img/icon/favicon.ico">
<link rel="icon" href="../../../img/icon/icon-16.png" sizes="16x16" type="image/png">
<link rel="icon" href="../../../img/icon/icon-32.png" sizes="32x32" type="image/png">
<link rel="apple-touch-icon" href="../../../img/icon/icon-180.png" sizes="180x180">
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#121212" media="(prefers-color-scheme: dark)">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-00000000"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-00000000');
</script>


  

  </head>
  <body>
    <header id="site-header">
  
  <div id="site-header-brand">
    <a href="../../../">Go/Gin Gower Docs</a>
  </div>

  
  <div id="site-header-controls">
    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="theme selector">
        <i class="icon icon-brightness"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        <li role="menuitem"><button class="color-scheme" data-value="light"><i class="icon icon-light-mode"></i> Light</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="dark"><i class="icon icon-dark-mode"></i> Dark &nbsp;</button></li>
        <li role="menuitem"><button class="color-scheme" data-value="night"><i class="icon icon-night-mode"></i> Night</button></li>
      </ul>
    </div>

    
    <div class="dropdown">
      <button class="dropdown-btn" aria-haspopup="menu" aria-label="language selector">
        <i class="icon icon-translate"></i>
        <i class="icon icon-select"></i>
      </button>
      <ul role="menu" class="dropdown-menu">
        
          
          <li role="menuitem"><a href="../../../single/db-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1/">中文</a></li>
          
          <li role="menuitem"><a href="../../../en/single/db-database-service/">English</a></li>
          
        
      </ul>
    </div>
  </div>

  
  <div id="site-header-menu">
    <nav>
      <ul>
        
        
        
          
          <li><a href="../../../" ><svg t="1731853730249" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="883" width="200" height="200"><path d="M466.48888853 821.99893333A182.13546667 182.13546667 0 0 1 512 463.64444479a182.0444448 182.0444448 0 0 1 45.51111147 358.35448854V918.75555519h227.5555552v-364.08888853a45.51111147 45.51111147 0 0 1 45.51111146-45.51111147h17.93137707L512 206.27911146 175.4908448 509.15555519H193.42222187a45.51111147 45.51111147 0 0 1 45.51111146 45.51111147v364.08888853h91.02222187a45.51111147 45.51111147 0 0 1 0 91.02222294H193.42222187a45.51111147 45.51111147 0 0 1-45.5111104-45.51111147v-364.08888853H56.88888853c-41.68817813 0-61.44-51.4275552-30.44693333-79.32586667l455.11111147-409.6a45.51111147 45.51111147 0 0 1 60.89386666 0l455.11111147 409.6C1028.55111147 548.75022186 1008.79928853 600.17777813 967.11111147 600.17777813h-91.02222294v364.08888853a45.51111147 45.51111147 0 0 1-45.5111104 45.51111147h-318.57777813a45.51111147 45.51111147 0 0 1-45.51111147-45.51111147v-142.26773333zM512 736.71111146a91.02222187 91.02222187 0 1 0 0-182.0444448 91.02222187 91.02222187 0 0 0 0 182.0444448z" fill="#2c2c2c" p-id="884"></path></svg>Home</a></li>
        
          
          <li><a href="../../../workspace/%E4%BB%8B%E7%BB%8D/" ><svg t="1731853749882" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1030" width="200" height="200"><path d="M941.48136843 320.91117833a58.73434594 58.73434594 0 0 0-29.56686-50.74309969L546.72469031 61.2022452a58.73434594 58.73434594 0 0 0-58.73434594 1e-8l-363.59044406 211.76239406a58.73434594 58.73434594 0 0 0-28.76811094 51.14247468v420.72729094a58.73434594 58.73434594 0 0 0 29.56592344 50.74309969l363.59231906 208.16614594a58.73434594 58.73434594 0 0 0 58.33403344 0l365.18981812-210.9627075a58.73434594 58.73434594 0 0 0 29.56686-51.14247469zM516.75939281 122.73315177l307.65453375 176.20303781-141.84086625 90.69745406-134.24993344-76.71371156a59.93247001 59.93247001 0 0 0-59.9315325 0L353.74134843 392.8305177l-142.24024125-91.4971425z m0 567.76284281l-119.86494094-69.12184125 114.27181875-70.72121437L623.43746437 630.56352364zM382.11008437 453.96111177l105.480885-61.53090656v105.48182249a25.17186281 25.17186281 0 0 0 0 2.79656063h-4.39499719l-100.68745031 64.32840562z m161.81804437 44.35029094V388.83489458l112.27400719 63.12840563V581.41792302L542.72812967 501.50827583a27.56904844 27.56904844 0 0 0 2e-8-4.79437312zM163.55550562 351.27678833l150.6308625 95.49276469v170.60803968a59.93247001 59.93247001 0 0 0 29.96623501 51.54278719l140.64180561 79.90964813v173.00616375l-319.64046561-183.39365907z m389.56199344 570.9587775V749.23033958l141.44055468-79.90964719a59.93247001 59.93247001 0 0 0 29.9671725-51.94216219V445.57049146l150.23148844-95.09245313V737.6428452z m0 0" fill="#2c2c2c" p-id="1031"></path></svg>Workspace Mode</a></li>
        
          
          <li><a href="../../../single/%E5%89%8D%E8%A8%80/" ><svg t="1731853765799" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1314" width="200" height="200"><path d="M512 57.5822816c-262.31427627 0-475.75105173 213.43493973-475.75105173 475.75105173 0 262.3491392 213.40191147 475.75105173 475.75105173 475.75105173S987.75105173 795.68247253 987.75105173 533.33333333C987.75105173 271.01905706 774.3491392 57.5822816 512 57.5822816zM512 940.8177184c-224.6992608 0-407.48438507-182.81815147-407.48438507-407.48438507 0-224.6992608 182.78328853-407.48438507 407.48438507-407.48438507 224.66623253 0 407.48438507 182.78328853 407.48438507 407.48438507C919.48438507 757.99956586 736.66623253 940.8177184 512 940.8177184z" fill="#2c2c2c" p-id="1315"></path><path d="M512 362.667584c-94.1054304 0-170.667584 76.56031893-170.667584 170.66574933s76.56031893 170.667584 170.667584 170.667584 170.667584-76.56031893 170.667584-170.667584S606.1054304 362.667584 512 362.667584z" fill="#2c2c2c" p-id="1316"></path></svg>Single Mode</a></li>
        
      </ul>
    </nav>
  </div>

  
  <div id="site-header-search"></div>
</header>
    
<div id="site-main-content-wrapper">
  
  
    


<aside id="sidebar">
  <span class="btn-close"><i class="icon icon-close"></i></span>

  <div class="sticky"><strong class="sidebar-section">Introduction</strong>
          
          <a id="en-0-0" class="sidebar-link " href="../../../en/single/preface/#en-0-0">
            
              Preface
            
          </a>
        
          
          <a id="en-0-1" class="sidebar-link " href="../../../en/single/installation/#en-0-1">
            
              Installation
            
          </a>
        
          
          <a id="en-0-2" class="sidebar-link " href="../../../en/single/directory-structure/#en-0-2">
            
              Directory Structure
            
          </a>
        <strong class="sidebar-section">Basic Content</strong>
          
          <a id="en-1-0" class="sidebar-link " href="../../../en/single/routing/#en-1-0">
            
              Routing
            
          </a>
        
          
          <a id="en-1-1" class="sidebar-link " href="../../../en/single/controllers/#en-1-1">
            
              Controllers
            
          </a>
        
          
          <a id="en-1-2" class="sidebar-link " href="../../../en/single/request-validator/#en-1-2">
            
              Request Validator
            
          </a>
        
          
          <a id="en-1-3" class="sidebar-link " href="../../../en/single/exceptions/#en-1-3">
            
              Exceptions
            
          </a>
        
          
          <a id="en-1-4" class="sidebar-link " href="../../../en/single/responses/#en-1-4">
            
              Responses
            
          </a>
        <strong class="sidebar-section">Frontend Related</strong>
          
          <a id="en-2-0" class="sidebar-link " href="../../../en/single/templates/#en-2-0">
            
              Templates
            
          </a>
        
          
          <a id="en-2-1" class="sidebar-link " href="../../../en/single/frontend-build/#en-2-1">
            
              Frontend Build
            
          </a>
        
          
          <a id="en-2-2" class="sidebar-link " href="../../../en/single/packaging/#en-2-2">
            
              Packaging
            
          </a>
        <strong class="sidebar-section">Service Introduction</strong>
          
          <a id="en-3-0" class="sidebar-link " href="../../../en/single/auth-jwt-service/#en-3-0">
            
              auth-JWT Service
            
          </a>
        
          
          <a id="en-3-1" class="sidebar-link " href="../../../en/single/cache-cache-service/#en-3-1">
            
              cache-Cache Service
            
          </a>
        
          
          <a id="en-3-2" class="sidebar-link " href="../../../en/single/config-configuration-service/#en-3-2">
            
              config-Configuration Service
            
          </a>
        
          
          <a id="en-3-3" class="sidebar-link " href="../../../en/single/cookie-cookie-service/#en-3-3">
            
              cookie-Cookie Service
            
          </a>
        
          
          <a id="en-3-4" class="sidebar-link current" href="../../../en/single/db-database-service/#en-3-4">
            
              db-Database Service
            
          </a>
        
          
          <a id="en-3-5" class="sidebar-link " href="../../../en/single/exception-exception-service/#en-3-5">
            
              exception-Exception Service
            
          </a>
        
          
          <a id="en-3-6" class="sidebar-link " href="../../../en/single/logger-logging-service/#en-3-6">
            
              logger-Logging Service
            
          </a>
        
          
          <a id="en-3-7" class="sidebar-link " href="../../../en/single/passwd-password-hashing-service/#en-3-7">
            
              passwd-Password Hashing Service
            
          </a>
        
          
          <a id="en-3-8" class="sidebar-link " href="../../../en/single/response-response-service/#en-3-8">
            
              response-Response Service
            
          </a>
        
          
          <a id="en-3-9" class="sidebar-link " href="../../../en/single/route-routing-service/#en-3-9">
            
              route-Routing Service
            
          </a>
        
          
          <a id="en-3-10" class="sidebar-link " href="../../../en/single/symcrypt-symmetric-encryption-service/#en-3-10">
            
              symcrypt-Symmetric Encryption Service
            
          </a>
        
          
          <a id="en-3-11" class="sidebar-link " href="../../../en/single/translate-translation-service/#en-3-11">
            
              translate-Translation Service
            
          </a>
        
          
          <a id="en-3-12" class="sidebar-link " href="../../../en/single/upload-upload-service/#en-3-12">
            
              upload-Upload Service
            
          </a>
        
          
          <a id="en-3-13" class="sidebar-link " href="../../../en/single/util-utility-service/#en-3-13">
            
              util-Utility Service
            
          </a>
        
          
          <a id="en-3-14" class="sidebar-link " href="../../../en/single/validator-validation-service/#en-3-14">
            
              validator-Validation Service
            
          </a>
        <strong class="sidebar-section">Third-party Applications</strong>
          
          <a id="en-4-0" class="sidebar-link " href="../../../en/single/caddy-web-server/#en-4-0">
            
              Caddy Web Server
            
          </a>
        
          
          <a id="en-4-1" class="sidebar-link " href="../../../en/single/log-viewer/#en-4-1">
            
              Log Viewer
            
          </a>
        
          
          <a id="en-4-2" class="sidebar-link " href="../../../en/single/database/#en-4-2">
            
              Database
            
          </a>
        <strong class="sidebar-section">Release</strong>
          
          <a id="en-5-0" class="sidebar-link " href="../../../en/single/release-preface/#en-5-0">
            
              Release Preface
            
          </a>
        
          
          <a id="en-5-1" class="sidebar-link " href="../../../en/single/development-release/#en-5-1">
            
              Development Release
            
          </a>
        
          
          <a id="en-5-2" class="sidebar-link " href="../../../en/single/testing-release/#en-5-2">
            
              Testing Release
            
          </a>
        
          
          <a id="en-5-3" class="sidebar-link " href="../../../en/single/production-release/#en-5-3">
            
              Production Release
            
          </a>
        <strong class="sidebar-section">Other</strong>
          
          <a id="en-6-0" class="sidebar-link " href="../../../en/single/configuration/#en-6-0">
            
              Configuration
            
          </a>
        
          
          <a id="en-6-1" class="sidebar-link " href="../../../en/single/testing/#en-6-1">
            
              Testing
            
          </a>
        
          
          <a id="en-6-2" class="sidebar-link " href="../../../en/single/utils/#en-6-2">
            
              Utils
            
          </a>
        
          
          <a id="en-6-3" class="sidebar-link " href="../../../en/single/commands/#en-6-3">
            
              Commands
            
          </a>
        
          
          <a id="en-6-4" class="sidebar-link " href="../../../en/single/advanced-data-processing/#en-6-4">
            
              Advanced Data Processing
            
          </a>
        
  </div>
</aside>

  
  <main>
    <article id="article">
      <nav id="article-nav">
  <button id="article-nav-menu-btn"><i class="icon icon-menu"></i> On this section</button>
  <button id="article-nav-toc-btn"><i class="icon icon-toc"></i> On this page</button>
</nav>
      <header id="article-header">
  <h1>db-Database Service</h1>
</header>
      <div id="article-content">
        
        
        <h2 id="open-source-libraries-used">Open Source Libraries Used</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="s2">&#34;gorm.io/gorm&#34;</span><span class="w">
</span></span></span></code></pre></div><h2 id="service-provider">Service Provider</h2>
<h3 id="service-identifier">Service Identifier</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="s2">&#34;db&#34;</span><span class="w">
</span></span></span></code></pre></div><h3 id="register-service">Register Service</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">P</span><span class="p">.</span><span class="nf">Register</span><span class="p">(</span><span class="s">&#34;db&#34;</span><span class="p">,</span> <span class="kd">func</span><span class="p">()</span> <span class="p">(</span><span class="nx">Depends</span><span class="p">,</span> <span class="nx">Resolve</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">Depends</span><span class="p">{</span><span class="s">&#34;config&#34;</span><span class="p">,</span> <span class="s">&#34;logger&#34;</span><span class="p">},</span> <span class="kd">func</span><span class="p">(</span><span class="nx">ss</span> <span class="o">...</span><span class="nx">services</span><span class="p">.</span><span class="nx">Service</span><span class="p">)</span> <span class="nx">services</span><span class="p">.</span><span class="nx">Service</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">db</span><span class="p">.</span><span class="nf">New</span><span class="p">().</span><span class="nf">Init</span><span class="p">(</span><span class="nx">ss</span><span class="o">...</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><h3 id="registration-format-refer-to-auth-service">Registration Format Refer to auth Service</h3>
<h2 id="dependent-services">Dependent Services</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="s2">&#34;config&#34;</span><span class="p">,</span><span class="w"> </span><span class="s2">&#34;logger&#34;</span><span class="w">
</span></span></span></code></pre></div><h2 id="env-configuration">ENV Configuration</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="l">DB_DRIVER=sqlite</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_USER=root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_PASSWD=root</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_NET=tcp</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_HOST=tidb</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_PORT=4000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_NAME=gower</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Maximum database connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_MAX_OPEN=100</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Maximum idle database connections</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_MAX_IDLE_COUNT=25</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Maximum lifetime of a database connection</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_MAX_LIFE_TIME=30m</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Maximum lifetime of an idle database connection</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_MAX_IDLE_TIME=10m</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Whether to disable foreign key creation during auto migration, default is disabled</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_DISABLE_FOREIGN_KEY=true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Whether to skip default transaction, default is to skip</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_SKIP_DEFAULT_TRANSACTION=true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Timezone: sys, utc, beijing</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_TIMEZONE=beijing</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Whether to enable prepared statement caching, default is enabled</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_PREPARE_STMT=true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Whether to enable mysql_native_password, default is enabled</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="l">DB_MYSQL_NATIVE_PASSWORDS=true</span><span class="w">
</span></span></span></code></pre></div><h2 id="service-interface-methods">Service Interface Methods</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">DBService</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Service</span> <span class="c1">// General service interface
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Automatically migrate the database schema
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">AutoMigrate</span><span class="p">(</span><span class="nx">dst</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span> 
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to handle associated data, it is an advanced API for loading, adding, replacing, and deleting associated data.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Association</span><span class="p">(</span><span class="nx">column</span> <span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Association</span> 
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to set default values, when you try to create a new record, if some fields are not provided, the Attrs method allows you to specify default values for these fields.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Attrs</span><span class="p">(</span><span class="nx">attrs</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to specify certain field values when querying or creating records, it is often used with FirstOrXXX series methods (such as FirstOrCreate) to pre-specify or modify certain field values when finding or creating records.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Assign</span><span class="p">(</span><span class="nx">attrs</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add error information to the current gorm.DB instance. This is useful in some cases, for example, when you need to handle custom errors along with GORM-generated errors.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">AddError</span><span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="kt">error</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to start a new transaction. In database operations, transactions ensure that a set of operations are committed on success or rolled back on failure to maintain data consistency.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Begin</span><span class="p">(</span><span class="nx">opts</span> <span class="o">...*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">TxOptions</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to create new records in the database. Given a struct instance containing data, GORM will automatically generate the corresponding SQL insert statement and execute the insertion operation.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Create</span><span class="p">(</span><span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to create new records in the database in batches. Similar to the Create method, but it allows you to specify a batch size to group multiple records for insertion. This is very helpful for inserting large amounts of data.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">CreateInBatches</span><span class="p">(</span><span class="nx">value</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">batchSize</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query the number of records that meet the given conditions. When you need to get the number of records in the database that meet certain conditions, you can use the Count method.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Count</span><span class="p">(</span><span class="nx">count</span> <span class="o">*</span><span class="kt">int64</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Connection</span><span class="p">(</span><span class="nx">fc</span> <span class="kd">func</span><span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> <span class="kt">error</span><span class="p">)</span> <span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Commit the transaction
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Commit</span><span class="p">()</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add custom SQL clauses when querying. When you need to execute queries with special clauses, you can use the Clauses method.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Clauses</span><span class="p">(</span><span class="nx">conds</span> <span class="o">...</span><span class="nx">clause</span><span class="p">.</span><span class="nx">Expression</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add a DISTINCT clause when querying. The DISTINCT clause returns unique results, which is useful when you need to get non-repeating values for a specific field.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Distinct</span><span class="p">(</span><span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to delete records from the database that meet the given conditions. The Delete method generates the corresponding SQL delete statement and executes the deletion operation.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Delete</span><span class="p">(</span><span class="nx">value</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to output the SQL statement to the console before execution. This is very useful for debugging database queries and operations to see the actual SQL statements being executed.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Debug</span><span class="p">()</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Get the database/sql&#39;s DB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">SqlDB</span><span class="p">()</span> <span class="p">(</span><span class="o">*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to execute raw SQL statements. In some cases, you may need to execute SQL statements or operations not supported by GORM itself, at which point you can use the Exec method.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Exec</span><span class="p">(</span><span class="nx">sql</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">values</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query the first record that meets the given conditions from the database. The First method generates the corresponding SQL query statement, executes the query operation, and fills the query result into the provided struct instance.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">First</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query all records that meet the given conditions from the database. The Find method generates the corresponding SQL query statement, executes the query operation, and fills the query results into the provided struct instance or slice of struct instances.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Find</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query all records that meet the given conditions from the database in batches. The FindInBatches method is particularly useful when handling large amounts of data because it allows you to query data in specified batch sizes instead of loading all records into memory at once.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">FindInBatches</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">batchSize</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">fc</span> <span class="kd">func</span><span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">,</span> <span class="nx">batch</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">error</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query the first record that meets the given conditions from the database, and if no record is found, initializes a new struct instance. This method is very useful when you need to get or initialize a record.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">FirstOrInit</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query the first record that meets the given conditions from the database, and if no record is found, creates a new record. This method is very useful when you need to get or create a record.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">FirstOrCreate</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add a GROUP BY clause when querying. The GROUP BY clause groups the result set by specified columns, usually used with aggregate functions (such as COUNT, SUM, AVG).
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Group</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to get the value associated with the given key from the storage of the current *gorm.DB instance. This can be used to store and retrieve custom data related to specific database operations in GORM.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Get</span><span class="p">(</span><span class="nx">key</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Get GormDB
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">GormDB</span><span class="p">()</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add a HAVING clause when querying. The HAVING clause filters the results of aggregate functions, usually used with GROUP BY.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Having</span><span class="p">(</span><span class="nx">query</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add an INNER JOIN clause when querying. The INNER JOIN clause combines records from multiple tables based on specified join conditions. Only records that satisfy the join conditions are included in the result set.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">InnerJoins</span><span class="p">(</span><span class="nx">query</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to associate a value with the given key and store it in the storage of the current *gorm.DB instance. This can be used to store and retrieve custom data related to specific database operations in GORM.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">InstanceSet</span><span class="p">(</span><span class="nx">key</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to get the value associated with the given key from the storage of the current *gorm.DB instance.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">InstanceGet</span><span class="p">(</span><span class="nx">key</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kd">interface</span><span class="p">{},</span> <span class="kt">bool</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add a JOIN clause when querying. The JOIN clause combines records from multiple tables based on specified join conditions. The Joins method allows you to customize the join type, such as INNER JOIN, LEFT JOIN, etc.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Joins</span><span class="p">(</span><span class="nx">query</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query the last record that meets the given conditions from the database. The Last method generates the corresponding SQL query statement, executes the query operation, and fills the query result into the provided struct instance.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Last</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add a LIMIT clause when querying. The LIMIT clause limits the number of records in the query result set. It is useful for pagination queries or when you need to query a fixed number of records.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Limit</span><span class="p">(</span><span class="nx">limit</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to return a gorm.Migrator implementation. Through Migrator, you can perform database migration operations, such as creating tables, dropping tables, modifying table structures, etc.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Migrator</span><span class="p">()</span> <span class="nx">gorm</span><span class="p">.</span><span class="nx">Migrator</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to set the primary table for the current query or operation. This method sets the model of the current *gorm.DB instance to the given struct instance or struct pointer. In executing queries, inserts, updates, or deletes, this model will be the primary table.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Model</span><span class="p">(</span><span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add a NOT condition when querying. The Not method adds a negated condition to the query, i.e., it queries records that do not meet the given conditions. It can be used to filter out records that do not meet certain conditions.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Not</span><span class="p">(</span><span class="nx">query</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to ignore specified columns when performing create (Create) or update (Update) operations. When you do not want to insert or update certain fields to the database, you can use the Omit method.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Omit</span><span class="p">(</span><span class="nx">columns</span> <span class="o">...</span><span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add OR conditions when querying. The Or method adds one or more additional conditions to the query, i.e., it queries records that meet any of the given conditions. It can be used to combine multiple conditions to make the query more flexible.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Or</span><span class="p">(</span><span class="nx">query</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add an ORDER BY clause when querying. The ORDER BY clause sorts the result set by specified columns. It is useful when you need to sort the query results.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Order</span><span class="p">(</span><span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to add an OFFSET clause when querying. The OFFSET clause starts returning records from a specified position in the result set. It is useful for pagination queries or when you need to skip the first few records.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Offset</span><span class="p">(</span><span class="nx">offset</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to query the list of values for a specified column from the database and store them in the specified slice. The Pluck method can be used to quickly get the values of a specified column without retrieving the entire record. It is often used with the Select method to get values from multiple columns simultaneously.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Pluck</span><span class="p">(</span><span class="nx">column</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">dest</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to preload (eager load) associated records when querying. By preloading associated records, you can avoid additional queries when using associated data. Preloading is typically used when querying records with one-to-many or many-to-one associations.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Preload</span><span class="p">(</span><span class="nx">query</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to directly use raw SQL statements in queries or operations. The Raw method allows you to execute more advanced operations using SQL statements, such as join queries, subqueries, transactions, etc.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Raw</span><span class="p">(</span><span class="nx">sql</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">values</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to return the first row of the query result. The Row method returns only the first row that matches the conditions, and returns an empty row if no records are found.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Row</span><span class="p">()</span> <span class="o">*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">Row</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to execute a query and return multiple rows. The Rows method returns a *sql.Rows type, and you can iterate over the Rows to get each row of the query result set.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Rows</span><span class="p">()</span> <span class="p">(</span><span class="o">*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">Rows</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to roll back previously executed operations in a transaction. When using transactions for database operations, if an error occurs or you need to cancel the current operation, you can use the Rollback method to roll back the transaction and undo all previous operations.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Rollback</span><span class="p">()</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to roll back all changes to a specified savepoint in a transaction. A savepoint is a logical marker in a transaction, used to mark a specific position in the transaction, so you can easily roll back to that position later.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">RollbackTo</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to insert a struct instance into the database or update an existing record in the database. If the primary key field of the given struct instance is empty, the Save method will perform an insert operation. If the primary key field of the given struct instance is non-empty, the Save method will perform an update operation.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Save</span><span class="p">(</span><span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to scan the first row of the query result into the given struct instance. The Scan method is used to get the first row of the query result, for example, to calculate the total number of rows in the query result set or to query a specific value.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Scan</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to scan all rows of the query result into the given struct instance. The ScanRows method can be used to retrieve multiple rows of data from the query result.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">ScanRows</span><span class="p">(</span><span class="nx">rows</span> <span class="o">*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">Rows</span><span class="p">,</span> <span class="nx">dest</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to create a savepoint (Save Point) in a transaction. A savepoint is a logical marker in a transaction, used to mark a specific position in the transaction, so you can easily roll back to that position later.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">SavePoint</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to specify the columns to select when querying. By using the Select method, you can select only the required columns from the query result to reduce network traffic and improve query performance.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Select</span><span class="p">(</span><span class="nx">query</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to apply a set of scopes (Scope) to the query. Scopes are a set of functions that specify a set of query conditions or behaviors, and can be applied to the query using the Scopes method.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Scopes</span><span class="p">(</span><span class="nx">funcs</span> <span class="o">...</span><span class="kd">func</span><span class="p">(</span><span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to create a new session (Session) for the current database operation. In GORM, a Session is an abstract concept representing a series of database operations, including starting transactions, executing queries, inserting data, etc. Through Session, you can flexibly control the behavior of each operation, such as transaction isolation levels, query caching, error handling, etc.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Session</span><span class="p">(</span><span class="nx">config</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">Session</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to set global options for GORM. GORM provides many global options to control the size of the database connection pool, SQL logging, query caching, etc.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Set</span><span class="p">(</span><span class="nx">key</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to set the table name and foreign key names for a many-to-many association.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">SetupJoinTable</span><span class="p">(</span><span class="nx">model</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">field</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">joinTable</span> <span class="kd">interface</span><span class="p">{})</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to specify the table on which to perform the operation. In GORM, each model is associated with a database table. By using the Table method, you can change the default table for the current operation to perform database operations on other tables.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Table</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">args</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to get a record from the database and scan it into the specified struct instance. The Take method is similar to the First method, but it does not sort the query results and directly returns the first record in the query result set.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Take</span><span class="p">(</span><span class="nx">dest</span> <span class="kd">interface</span><span class="p">{},</span> <span class="nx">conds</span> <span class="o">...</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to start a new database transaction and execute the specified function within that transaction. If the function executes successfully, the transaction will be committed; otherwise, it will be rolled back.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Transaction</span><span class="p">(</span><span class="nx">fc</span> <span class="kd">func</span><span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> <span class="kt">error</span><span class="p">,</span> <span class="nx">opts</span> <span class="o">...*</span><span class="nx">sql</span><span class="p">.</span><span class="nx">TxOptions</span><span class="p">)</span> <span class="p">(</span><span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to convert the query to an SQL statement and parameters. This method returns the SQL statement and parameter list of the query, so you can directly use them to execute native SQL queries.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">ToSQL</span><span class="p">(</span><span class="nx">queryFn</span> <span class="kd">func</span><span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to register the specified plugin. Plugins are pluggable components in GORM used to enhance or extend functionality.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Use</span><span class="p">(</span><span class="nx">plugin</span> <span class="nx">gorm</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">)</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to cancel the soft delete filter in the current query. In GORM, soft delete is a way to mark deleted data by setting the delete flag to true, rather than permanently deleting the data from the database. When executing queries, GORM defaults to using the soft delete filter to exclude data marked as deleted. By using the Unscoped method, you can cancel the soft delete filter and return all records, including those marked as deleted.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Unscoped</span><span class="p">()</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to update records in the database table. By specifying the column name and new value, you can update a set of records that meet the specified conditions.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Update</span><span class="p">(</span><span class="nx">column</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to map the field values of a struct instance to columns in the database table and update a set of records that meet the specified conditions.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">Updates</span><span class="p">(</span><span class="nx">values</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to update a single column in the database table. Unlike the Updates method, the UpdateColumn method only updates the specified column and does not map other field values of the struct to the database table.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">UpdateColumn</span><span class="p">(</span><span class="nx">column</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">value</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to map the field values of a struct instance to columns in the database table and update a set of records that meet the specified conditions.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">UpdateColumns</span><span class="p">(</span><span class="nx">values</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">(</span><span class="nx">tx</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Used to associate a specified context object with the database operation. In some cases, you may need to use a context object in database operations, such as when handling web requests.
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">WithContext</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="o">*</span><span class="nx">gorm</span><span class="p">.</span><span class="nx">DB</span>
</span></span></code></pre></div>
      </div>
      








  
  
  
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

        
          
        

      
    
        

      
    
        

        
          
        

        
        
      


<footer id="article-footer">
  <time id="article-last-updated" datetime="2024-11-24"><i class="icon icon-calendar"></i>&nbsp;Last updated: 2024-11-24</time>

  
    <a id="article-prev-link" href="../../../single/cookie-cookie-service/"><i class="icon icon-prev icon-colored"></i> Prev</a>
  

  
    <a id="article-next-link"  href="../../../single/exception-exception-service/">Next <i class="icon icon-next icon-colored"></i></a>
  
</footer>
    </article>
    <aside id="toc">
  <span class="btn-close"><i class="icon icon-close"></i></span>
  <div class="sticky">
    <strong><i class="icon icon-toc"></i> On this page</strong>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#open-source-libraries-used">Open Source Libraries Used</a></li>
    <li><a href="#service-provider">Service Provider</a>
      <ul>
        <li><a href="#service-identifier">Service Identifier</a></li>
        <li><a href="#register-service">Register Service</a></li>
        <li><a href="#registration-format-refer-to-auth-service">Registration Format Refer to auth Service</a></li>
      </ul>
    </li>
    <li><a href="#dependent-services">Dependent Services</a></li>
    <li><a href="#env-configuration">ENV Configuration</a></li>
    <li><a href="#service-interface-methods">Service Interface Methods</a></li>
  </ul>
</nav>
  </div>
</aside>
  </main>
</div>

    <footer id="site-footer">
  
  <div id="site-footer-copyright">
    <a href="https://falling-ts.github.io" target="_blank">
      <i class="icon icon-copyright"></i> 2024 falling-ts
    </a>
  </div>

  
  <div id="site-footer-social">

    

    

    

    

  </div>

  
  <div id="site-footer-fund">

    

    

  </div>

  
  <div id="site-footer-love">
    Made with <i class="icon icon-love icon-colored"></i> &nbsp;from&nbsp;<a href="https://docura.github.io/" target="_blank">Docura</a>
  </div>
</footer>
    






<script type="text/javascript" src="../../../js/base.min.js"></script>



  
  <script src="../../../js/component/docsearch.min.js"></script>
  <script type="application/javascript">
      docsearch({
          container: '#site-header-search',
          appId: '',
          indexName: '',
          apiKey: '',
      });
  </script>


<script type="application/javascript">
    if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/sw.js?2024-11-24')
            .catch(function(err) {console.error('ServiceWorker registration failed: ', err);});
    }
</script>
  </body>
</html>